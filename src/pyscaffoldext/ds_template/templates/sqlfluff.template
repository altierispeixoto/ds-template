#------------------------------------------------------------------------------#
# Setup
#------------------------------------------------------------------------------#
[sqlfluff]
dialect = snowflake
templater = dbt
exclude_rules = L034

# Allow fix commands to run on files
fix_even_unparsable = True

# Output message formats
output_line_length = 120
max_line_length = 120

# Ignore certain file types
ignore = templated_file_name,parsing
ignore_templated_areas = True

# Ignore specific paths
exclude_path = target/,macros/,logs/

[sqlfluff:templater:jinja]
apply_dbt_builtins = True
load_macros_from_path = macros

[sqlfluff:templater:dbt]
project_dir = .
profiles_dir = ~/.dbt
profile = default

[sqlfluff:templater:dbt:context]
DBT_ENVIRONMENT = QA
schema = YOUR_SCHEMA  # Replace with your actual schema
database = YOUR_DB    # Replace with your actual database

#------------------------------------------------------------------------------#
# Custom Settings
#------------------------------------------------------------------------------#
[sqlfluff:indentation]
indented_joins = False
indented_ctes = False
indented_using_on = True
indented_on_contents = False
template_blocks_indent = True

[sqlfluff:rules]
tab_space_size = 4
max_line_length = 120
indent_unit = space
comma_style = trailing
allow_scalar = True
single_table_references = consistent
unquoted_identifiers_policy = aliases